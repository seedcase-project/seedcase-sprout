name: Release package

on:
  push:
    branches:
      - main

# Limit token permissions for security
permissions: read-all

jobs:
  update-version:
    # Only give permissions for this job.
    permissions:
      contents: write
      # IMPORTANT: mandatory for trusted publishing.
      id-token: write 
    uses: seedcase-project/.github/.github/workflows/reusable-release-package.yml@main
    with:
      app-id: ${{ vars.UPDATE_VERSION_APP_ID }}
      # Publish the package to PyPI
      publish: true
    secrets:
      update-version-gh-token: ${{ secrets.UPDATE_VERSION_TOKEN }}
